<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>RESSS - Dashboard</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
    body {
      font-family: 'Inter', sans-serif;
    }
    .dashboard-section {
      display: none;
    }
    .dashboard-section.active {
      display: block;
    }
    .fade-in {
      opacity: 0;
      transform: translateY(20px);
      animation: fadeIn 0.8s ease forwards;
    }
    @keyframes fadeIn {
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    .profile-pic-container {
      position: relative;
      display: inline-block;
    }
    .profile-pic-overlay {
      position: absolute;
      bottom: 0;
      right: 0;
      background: rgba(0,0,0,0.7);
      color: white;
      border-radius: 50%;
      width: 30px;
      height: 30px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
    }
    .payment-option {
      border: 2px solid #e5e7eb;
      border-radius: 8px;
      padding: 12px;
      cursor: pointer;
      transition: all 0.3s;
      flex: 1;
      min-width: 0;
    }
    .payment-option:hover, .payment-option.selected {
      border-color: #10b981;
      background-color: #f0fdf4;
    }
    .status-badge {
      padding: 4px 12px;
      border-radius: 20px;
      font-size: 0.75rem;
      font-weight: 600;
    }
    .status-completed {
      background-color: #d1fae5;
      color: #065f46;
    }
    .status-pending {
      background-color: #fef3c7;
      color: #92400e;
    }
    .status-missed {
      background-color: #fee2e2;
      color: #991b1b;
    }
    .transaction-row:hover {
      background-color: #f9fafb;
    }
    .date-input-calendar {
      width: 100%;
      border: 1px solid #d1d5db;
      border-radius: 6px;
      padding: 12px;
      font-size: 0.875rem;
      background: white;
      cursor: pointer;
    }
    .date-input-calendar:focus {
      outline: none;
      border-color: #10b981;
      box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.1);
    }
    .calendar-dropdown {
      position: absolute;
      top: 100%;
      left: 0;
      width: 100%;
      background: white;
      border: 1px solid #e5e7eb;
      border-radius: 8px;
      box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
      z-index: 50;
      margin-top: 4px;
      display: none;
    }
    .calendar-dropdown.active {
      display: block;
    }
    .compact-calendar {
      width: 100%;
      border-radius: 8px;
      background: white;
      padding: 12px;
    }
    .compact-calendar-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 4px 0;
      margin-bottom: 8px;
    }
    .compact-calendar-nav {
      background: none;
      border: none;
      cursor: pointer;
      padding: 4px 8px;
      border-radius: 4px;
      color: #6b7280;
    }
    .compact-calendar-nav:hover {
      background: #f3f4f6;
    }
    .compact-calendar-month {
      font-weight: 600;
      font-size: 0.875rem;
      color: #374151;
    }
    .compact-calendar-weekdays {
      display: grid;
      grid-template-columns: repeat(7, 1fr);
      padding: 4px 0;
      border-bottom: 1px solid #e5e7eb;
    }
    .compact-calendar-weekday {
      text-align: center;
      font-size: 0.75rem;
      font-weight: 500;
      color: #6b7280;
      padding: 4px 0;
    }
    .compact-calendar-days {
      display: grid;
      grid-template-columns: repeat(7, 1fr);
      gap: 2px;
      padding: 4px 0;
    }
    .compact-calendar-day {
      height: 32px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 0.75rem;
      cursor: pointer;
      border-radius: 4px;
      color: #374151;
    }
    .compact-calendar-day:hover {
      background: #f3f4f6;
    }
    .compact-calendar-day.friday {
      background: #ecfdf5;
      color: #065f46;
      font-weight: 500;
    }
    .compact-calendar-day.selected {
      background: #10b981;
      color: white;
    }
    .compact-calendar-day.other-month {
      color: #d1d5db;
    }
    .compact-calendar-day.disabled {
      color: #d1d5db;
      cursor: not-allowed;
    }
    .compact-calendar-day.disabled:hover {
      background: transparent;
    }
    .date-input-wrapper {
      position: relative;
    }
    .payment-methods-container {
      display: flex;
      gap: 12px;
      width: 100%;
    }
    .payment-modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0,0,0,0.5);
      z-index: 1000;
      align-items: center;
      justify-content: center;
    }
    .payment-modal.active {
      display: flex;
    }
    .payment-form {
      background: white;
      border-radius: 12px;
      padding: 24px;
      width: 90%;
      max-width: 400px;
      box-shadow: 0 10px 25px rgba(0,0,0,0.2);
    }
    .payment-success {
      text-align: center;
      padding: 20px;
    }
    .payment-success-icon {
      font-size: 48px;
      margin-bottom: 16px;
    }
    .submenu {
      display: none;
      padding-left: 20px;
      margin-top: 8px;
    }
    .submenu.active {
      display: block;
    }
    .deposit-history-table {
      width: 100%;
      border-collapse: collapse;
    }
    .deposit-history-table th,
    .deposit-history-table td {
      padding: 12px;
      text-align: left;
      border-bottom: 1px solid #e5e7eb;
    }
    .deposit-history-table th {
      background-color: #f9fafb;
      font-weight: 600;
      color: #374151;
    }
    .deposit-history-table tr:hover {
      background-color: #f9fafb;
    }
    .add-transaction-form {
      background-color: #f9fafb;
      padding: 16px;
      border-radius: 8px;
      margin-bottom: 16px;
    }
    .add-transaction-form input,
    .add-transaction-form select {
      padding: 8px 12px;
      border: 1px solid #d1d5db;
      border-radius: 4px;
      margin-right: 8px;
    }
  </style>
</head>
<body class="min-h-screen bg-gray-50 text-gray-900 antialiased">

  <!-- Dashboard Header -->
  <header class="bg-white shadow-sm">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex items-center justify-between h-16">
        <div class="flex items-center gap-3">
          <div class="w-10 h-10 bg-green-600 rounded-full flex items-center justify-center text-white font-bold">
            R
          </div>
          <div>
            <h1 class="text-lg font-semibold">RESSS | Since 2013</h1>
            <p class="text-xs text-gray-500">Investing in Seasonal Opportunities</p>
          </div>
        </div>
        <div class="flex items-center gap-4">
          <div class="text-right">
            <p class="text-sm font-medium">Welcome, <span id="dashboardUserName">Shareholder</span></p>
            <p class="text-xs text-gray-500">Member ID: <span id="memberId">RESSS-001</span></p>
          </div>
          <button onclick="logout()" class="text-sm text-red-600 hover:text-red-800">Logout</button>
        </div>
      </div>
    </div>
  </header>

  <!-- Main Dashboard Content -->
  <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
    <div class="grid grid-cols-1 lg:grid-cols-4 gap-8">
      
      <!-- Sidebar Navigation -->
      <div class="lg:col-span-1">
        <nav class="bg-white rounded-lg shadow-sm p-6">
          <ul class="space-y-4">
            <li>
              <button onclick="showSection('dashboard')" class="w-full flex items-center gap-3 text-green-600 font-medium p-2 bg-green-50 rounded-md text-left">
                üè† Dashboard
              </button>
            </li>
            <li>
              <button onclick="toggleSubmenu('depositSubmenu')" class="w-full flex items-center gap-3 text-gray-600 hover:text-green-600 font-medium p-2 hover:bg-gray-50 rounded-md text-left transition-colors">
                üí∞ Deposit
              </button>
              <ul id="depositSubmenu" class="submenu">
                <li>
                  <button onclick="showSection('deposit')" class="w-full flex items-center gap-3 text-gray-600 hover:text-green-600 font-medium p-2 hover:bg-gray-50 rounded-md text-left transition-colors">
                    Make Deposit
                  </button>
                </li>
                <li>
                  <button onclick="showSection('membersDeposit')" class="w-full flex items-center gap-3 text-gray-600 hover:text-green-600 font-medium p-2 hover:bg-gray-50 rounded-md text-left transition-colors">
                    Members Deposit
                  </button>
                </li>
              </ul>
            </li>
            <li>
              <button onclick="showSection('investment')" class="w-full flex items-center gap-3 text-gray-600 hover:text-green-600 font-medium p-2 hover:bg-gray-50 rounded-md text-left transition-colors">
                üíº Investment
              </button>
            </li>
            <li>
              <button onclick="showSection('generalLedger')" class="w-full flex items-center gap-3 text-gray-600 hover:text-green-600 font-medium p-2 hover:bg-gray-50 rounded-md text-left transition-colors">
                üìí General Ledger
              </button>
            </li>
            <li>
              <button onclick="showSection('profile')" class="w-full flex items-center gap-3 text-gray-600 hover:text-green-600 font-medium p-2 hover:bg-gray-50 rounded-md text-left transition-colors">
                üë§ Profile
              </button>
            </li>
          </ul>
        </nav>
      </div>

      <!-- Main Dashboard Content -->
      <div class="lg:col-span-3 space-y-8">
        
        <!-- Dashboard Section -->
        <div id="dashboard" class="dashboard-section active bg-white rounded-lg shadow-sm p-6 fade-in">
          <h2 class="text-2xl font-bold text-gray-900 mb-6">Dashboard Overview</h2>
          
          <!-- Quick Stats -->
          <div class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-8">
            <div class="bg-gradient-to-r from-blue-50 to-blue-100 p-4 rounded-lg border border-blue-200">
              <h3 class="text-sm font-medium text-blue-800 mb-2">Total Deposit</h3>
              <p class="text-2xl font-bold text-blue-900" id="TotalDeposit">41400 BDT</p>
              <p class="text-xs text-blue-700 mt-1">Deposited amount</p>
            </div>
            
            <div class="bg-gradient-to-r from-purple-50 to-purple-100 p-4 rounded-lg border border-purple-200">
              <h3 class="text-sm font-medium text-purple-800 mb-2">Pending Deposit</h3>
              <p class="text-2xl font-bold text-purple-900" id="pendingAmount">200 BDT</p>
              <p class="text-xs text-purple-700 mt-1">Remaining amount</p>
            </div>
            
            <div class="bg-gradient-to-r from-green-50 to-green-100 p-4 rounded-lg border border-green-200">
              <h3 class="text-sm font-medium text-green-800 mb-2">Total Investment</h3>
              <p class="text-2xl font-bold text-green-900" id="totalInvestment">120,000 BDT</p>
              <p class="text-xs text-green-700 mt-1">Active amount</p>
            </div>
            
            <div class="bg-gradient-to-r from-orange-50 to-orange-100 p-4 rounded-lg border border-orange-200">
              <h3 class="text-sm font-medium text-orange-800 mb-2">Total Balances</h3>
              <p class="text-2xl font-bold text-orange-900" id="totalBalances">30,000 BDT</p>
              <p class="text-xs text-orange-700 mt-1">Available amount</p>
            </div>
          </div>
          
          <!-- Charts and Progress -->
          <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8">
            <!-- Progress Chart -->
            <div class="bg-gray-50 p-6 rounded-lg">
              <h3 class="text-lg font-semibold text-gray-800 mb-4">Deposit Progress</h3>
              <div class="mb-4">
                <div class="flex justify-between text-sm text-gray-600 mb-1">
                  <span>Deposit Completion</span>
                  <span id="progressPercent">0%</span>
                </div>
                <div class="bg-gray-200 rounded-full h-3">
                  <div id="progressBar" class="bg-green-600 h-3 rounded-full transition-all duration-500" style="width: 0%"></div>
                </div>
              </div>
              <div class="flex justify-between text-sm">
                <span class="text-gray-600">Completed: <span id="completedWeeks">0</span> weeks</span>
                <span class="text-gray-600">Remaining: <span id="remainingWeeks">52</span> weeks</span>
              </div>
            </div>
            
            <!-- Next Deposit Info -->
            <div class="bg-gradient-to-r from-green-50 to-emerald-100 p-6 rounded-lg border border-green-200">
              <h3 class="text-lg font-semibold text-gray-800 mb-4">Next Deposit</h3>
              <div class="flex items-center gap-4">
                <div class="bg-green-100 p-3 rounded-full">
                  <span class="text-green-600 text-xl">üìÖ</span>
                </div>
                <div>
                  <p class="font-medium text-gray-900" id="nextDepositDate">Friday, 10 Jan 2025</p>
                  <p class="text-sm text-gray-600">Amount: <span class="font-semibold">200 BDT</span></p>
                  <p class="text-xs text-gray-500 mt-1">Deposit before 11:00 PM</p>
                </div>
              </div>
              <button onclick="showSection('deposit')" class="w-full mt-4 bg-green-600 text-white py-2 px-4 rounded-lg font-semibold hover:bg-green-700 transition-colors">
                Make Deposit Now
              </button>
            </div>
          </div>
          
          <!-- Recent Activity -->
          <div class="bg-white border border-gray-200 rounded-lg">
            <div class="p-4 border-b border-gray-200">
              <h3 class="text-lg font-semibold text-gray-800">Recent Activity</h3>
            </div>
            <div id="recentActivity" class="p-4">
              <div class="text-center py-8">
                <div class="text-4xl mb-4">üìù</div>
                <p class="text-gray-600 mb-4">No recent activity</p>
              </div>
            </div>
          </div>
        </div>

        <!-- Investment Section -->
        <div id="investment" class="dashboard-section bg-white rounded-lg shadow-sm p-6 fade-in">
          <h2 class="text-2xl font-bold text-gray-900 mb-6">Investment Projects</h2>
          
          <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
            <div class="border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow">
              <div class="flex justify-between items-start mb-4">
                <h3 class="text-xl font-bold text-gray-900">Invest in Land Lease</h3>
                <span class="status-badge status-completed">Active</span>
              </div>
              <p class="text-3xl font-bold text-green-600 mb-4">270,000 BDT<span class="text-sm font-normal text-gray-600">/Yearly</span></p>
              <ul class="space-y-2 mb-6">
                <li class="flex items-center">
                  <span class="text-green-500 mr-2">‚úì</span>
                  <span>12 weeks duration</span>
                </li>
                <li class="flex items-center">
                  <span class="text-green-500 mr-2">‚úì</span>
                  <span>Total: 2400 BDT</span>
                </li>
                <li class="flex items-center">
                  <span class="text-green-500 mr-2">‚úì</span>
                  <span>Weekly deposits</span>
                </li>
                <li class="flex items-center">
                  <span class="text-green-500 mr-2">‚úì</span>
                  <span>2% management fee</span>
                </li>
              </ul>
            </div>
            
            <div class="border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow">
              <div class="flex justify-between items-start mb-4">
                <h3 class="text-xl font-bold text-gray-900">Invest in Land Lease</h3>
                <span class="status-badge status-pending">Available</span>
              </div>
              <p class="text-3xl font-bold text-green-600 mb-4">500 BDT<span class="text-sm font-normal text-gray-600">/week</span></p>
              <ul class="space-y-2 mb-6">
                <li class="flex items-center">
                  <span class="text-green-500 mr-2">‚úì</span>
                  <span>12 weeks duration</span>
                </li>
                <li class="flex items-center">
                  <span class="text-green-500 mr-2">‚úì</span>
                  <span>Total: 6000 BDT</span>
                </li>
                <li class="flex items-center">
                  <span class="text-green-500 mr-2">‚úì</span>
                  <span>Weekly deposits</span>
                </li>
                <li class="flex items-center">
                  <span class="text-green-500 mr-2">‚úì</span>
                  <span>Priority support</span>
                </li>
              </ul>
            </div>
            
            <div class="border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow">
              <div class="flex justify-between items-start mb-4">
                <h3 class="text-xl font-bold text-gray-900">Invest in Land Lease</h3>
                <span class="status-badge status-pending">Available</span>
              </div>
              <p class="text-3xl font-bold text-green-600 mb-4">1000 BDT<span class="text-sm font-normal text-gray-600">/week</span></p>
              <ul class="space-y-2 mb-6">
                <li class="flex items-center">
                  <span class="text-green-500 mr-2">‚úì</span>
                  <span>12 weeks duration</span>
                </li>
                <li class="flex items-center">
                  <span class="text-green-500 mr-2">‚úì</span>
                  <span>Total: 12000 BDT</span>
                </li>
                <li class="flex items-center">
                  <span class="text-green-500 mr-2">‚úì</span>
                  <span>Weekly deposits</span>
                </li>
                <li class="flex items-center">
                  <span class="text-green-500 mr-2">‚úì</span>
                  <span>Exclusive opportunities</span>
                </li>
              </ul>
            </div>
          </div>
          
          <!-- Investment Performance -->
          <div class="mt-8 bg-gray-50 p-6 rounded-lg">
            <h3 class="text-lg font-semibold text-gray-800 mb-4">Investment Performance</h3>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
              <div class="text-center p-4 bg-white rounded-lg">
                <p class="text-2xl font-bold text-green-600">0%</p>
                <p class="text-sm text-gray-600">Current Return</p>
              </div>
              <div class="text-center p-4 bg-white rounded-lg">
                <p class="text-2xl font-bold text-blue-600">12%</p>
                <p class="text-sm text-gray-600">Projected Return</p>
              </div>
              <div class="text-center p-4 bg-white rounded-lg">
                <p class="text-2xl font-bold text-purple-600">0 BDT</p>
                <p class="text-sm text-gray-600">Estimated Profit</p>
              </div>
            </div>
          </div>
        </div>

        <!-- Members Deposit Section -->
        <div id="membersDeposit" class="dashboard-section bg-white rounded-lg shadow-sm p-6 fade-in">
          <h2 class="text-2xl font-bold text-gray-900 mb-6">Members Deposit</h2>
          
          <div class="bg-white border border-gray-200 rounded-lg">
            <div class="p-4 border-b border-gray-200">
              <h3 class="text-lg font-semibold text-gray-800">All Members Deposit Status</h3>
            </div>
            <div class="p-4">
              <div class="overflow-x-auto">
                <table class="w-full">
                  <thead class="bg-gray-50">
                    <tr>
                      <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Member</th>
                      <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Total Deposit</th>
                      <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Status</th>
                      <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Last Deposit</th>
                    </tr>
                  </thead>
                  <tbody class="bg-white divide-y divide-gray-200">
                    <tr>
                      <td class="px-6 py-4 whitespace-nowrap">
                        <div class="flex items-center">
                          <div class="flex-shrink-0 h-10 w-10">
                            <div class="h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center">
                              <span class="text-blue-600 font-bold">E</span>
                            </div>
                          </div>
                          <div class="ml-4">
                            <div class="text-sm font-medium text-gray-900">Eshtiak Abedin</div>
                            <div class="text-sm text-gray-500">RESSS-001</div>
                          </div>
                        </div>
                      </td>
                      <td class="px-6 py-4 whitespace-nowrap">
                        <div class="text-sm text-gray-900">41,400 BDT</div>
                      </td>
                      <td class="px-6 py-4 whitespace-nowrap">
                        <span class="status-badge status-completed">Completed</span>
                      </td>
                      <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">
                        15 Sept 2025
                      </td>
                    </tr>
                    <tr>
                      <td class="px-6 py-4 whitespace-nowrap">
                        <div class="flex items-center">
                          <div class="flex-shrink-0 h-10 w-10">
                            <div class="h-10 w-10 rounded-full bg-green-100 flex items-center justify-center">
                              <span class="text-green-600 font-bold">S</span>
                            </div>
                          </div>
                          <div class="ml-4">
                            <div class="text-sm font-medium text-gray-900">Sarwar Sabbir</div>
                            <div class="text-sm text-gray-500">RESSS-002</div>
                          </div>
                        </div>
                      </td>
                      <td class="px-6 py-4 whitespace-nowrap">
                        <div class="text-sm text-gray-900">36.800 BDT</div>
                      </td>
                      <td class="px-6 py-4 whitespace-nowrap">
                        <span class="status-badge status-pending">In Progress</span>
                      </td>
                      <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">
                        29 Aug 2025
                      </td>
                    </tr>
                    <tr>
                      <td class="px-6 py-4 whitespace-nowrap">
                        <div class="flex items-center">
                          <div class="flex-shrink-0 h-10 w-10">
                            <div class="h-10 w-10 rounded-full bg-purple-100 flex items-center justify-center">
                              <span class="text-purple-600 font-bold">S</span>
                            </div>
                          </div>
                          <div class="ml-4">
                            <div class="text-sm font-medium text-gray-900">Saleh Sozib</div>
                            <div class="text-sm text-gray-500">RESSS-003</div>
                          </div>
                        </div>
                      </td>
                      <td class="px-6 py-4 whitespace-nowrap">
                        <div class="text-sm text-gray-900">24,600 BDT</div>
                      </td>
                      <td class="px-6 py-4 whitespace-nowrap">
                        <span class="status-badge status-pending">In Progress</span>
                      </td>
                      <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">
                        01 Jan 2025
                      </td>
                    </tr>
                    <tr>
                      <td class="px-6 py-4 whitespace-nowrap">
                        <div class="flex items-center">
                          <div class="flex-shrink-0 h-10 w-10">
                            <div class="h-10 w-10 rounded-full bg-orange-100 flex items-center justify-center">
                              <span class="text-orange-600 font-bold">S</span>
                            </div>
                          </div>
                          <div class="ml-4">
                            <div class="text-sm font-medium text-gray-900">Sumit Haque</div>
                            <div class="text-sm text-gray-500">RESSS-004</div>
                          </div>
                        </div>
                      </td>
                      <td class="px-6 py-4 whitespace-nowrap">
                        <div class="text-sm text-gray-900">12,200 BDT</div>
                      </td>
                      <td class="px-6 py-4 whitespace-nowrap">
                        <span class="status-badge status-pending">In Progress</span>
                      </td>
                      <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">
                        27 Dec 2024
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>

          <!-- Summary Stats -->
          <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mt-6">
            <div class="bg-blue-50 p-4 rounded-lg">
              <h4 class="text-sm font-medium text-blue-800 mb-1">Total Members</h4>
              <p class="text-2xl font-bold text-blue-900">5</p>
            </div>
            <div class="bg-green-50 p-4 rounded-lg">
              <h4 class="text-sm font-medium text-green-800 mb-1">Active Members</h4>
              <p class="text-2xl font-bold text-green-900">5</p>
            </div>
            <div class="bg-purple-50 p-4 rounded-lg">
              <h4 class="text-sm font-medium text-purple-800 mb-1">Our Total Deposit</h4>
              <p class="text-2xl font-bold text-purple-900">166,400 BDT</p>
            </div>
          </div>
        </div>

        <!-- General Ledger Section -->
        <div id="generalLedger" class="dashboard-section bg-white rounded-lg shadow-sm p-6 fade-in">
          <h2 class="text-2xl font-bold text-gray-900 mb-6">General Ledger</h2>
          
          <div class="bg-white border border-gray-200 rounded-lg">
            <div class="p-4 border-b border-gray-200">
              <div class="flex justify-between items-center">
                <h3 class="text-lg font-semibold text-gray-800">Transaction History</h3>
                <div class="flex gap-2">
                  <button onclick="exportToCSV()" class="bg-gray-100 text-gray-700 py-2 px-4 rounded-lg font-medium hover:bg-gray-200 transition-colors">
                    Export CSV
                  </button>
                  <button onclick="toggleFilter()" class="bg-green-600 text-white py-2 px-4 rounded-lg font-medium hover:bg-green-700 transition-colors">
                    Filter
                  </button>
                  <button onclick="toggleAddTransaction()" class="bg-blue-600 text-white py-2 px-4 rounded-lg font-medium hover:bg-blue-700 transition-colors">
                    Add Transaction
                  </button>
                </div>
              </div>
            </div>
            
            <!-- Add Transaction Form -->
            <div id="addTransactionForm" class="add-transaction-form hidden">
              <h4 class="text-lg font-semibold mb-3">Add New Transaction</h4>
              <div class="grid grid-cols-1 md:grid-cols-5 gap-3">
                <input type="date" id="newTransactionDate" class="p-2 border rounded">
                <input type="text" id="newTransactionDescription" placeholder="Description" class="p-2 border rounded">
                <input type="number" id="newTransactionDebit" placeholder="Debit Amount" class="p-2 border rounded">
                <input type="number" id="newTransactionCredit" placeholder="Credit Amount" class="p-2 border rounded">
                <button onclick="addNewTransaction()" class="bg-green-600 text-white p-2 rounded hover:bg-green-700">Add</button>
              </div>
            </div>
            
            <div class="p-4">
              <div class="overflow-x-auto">
                <table class="w-full">
                  <thead class="bg-gray-50">
                    <tr>
                      <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Date</th>
                      <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Description</th>
                      <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Debit</th>
                      <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Credit</th>
                      <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Balance</th>
                    </tr>
                  </thead>
                  <tbody id="transactionHistory" class="bg-white divide-y divide-gray-200">
                    <tr>
                      <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">
                        15 Dec 2024
                      </td>
                      <td class="px-6 py-4 text-sm text-gray-900">
                        Weekly Deposit - Ishtiaq Abedin
                      </td>
                      <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">
                        -
                      </td>
                      <td class="px-6 py-4 whitespace-nowrap text-sm text-green-600 font-medium">
                        +200 BDT
                      </td>
                      <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">
                        42,800 BDT
                      </td>
                    </tr>
                    <tr>
                      <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">
                        08 Dec 2024
                      </td>
                      <td class="px-6 py-4 text-sm text-gray-900">
                        Weekly Deposit - Sarwar Sabbir
                      </td>
                      <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">
                        -
                      </td>
                      <td class="px-6 py-4 whitespace-nowrap text-sm text-green-600 font-medium">
                        +200 BDT
                      </td>
                      <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">
                        42,600 BDT
                      </td>
                    </tr>
                    <tr>
                      <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">
                        01 Dec 2024
                      </td>
                      <td class="px-6 py-4 text-sm text-gray-900">
                        Land Lease Investment
                      </td>
                      <td class="px-6 py-4 whitespace-nowrap text-sm text-red-600 font-medium">
                        -10,000 BDT
                      </td>
                      <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">
                        -
                      </td>
                      <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">
                        42,400 BDT
                      </td>
                    </tr>
                    <tr>
                      <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">
                        24 Nov 2024
                      </td>
                      <td class="px-6 py-4 text-sm text-gray-900">
                        Weekly Deposit - Sumit Haque
                      </td>
                      <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">
                        -
                      </td>
                      <td class="px-6 py-4 whitespace-nowrap text-sm text-green-600 font-medium">
                        +200 BDT
                      </td>
                      <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">
                        52,400 BDT
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>

        <!-- Deposit Section -->
        <div id="deposit" class="dashboard-section bg-white rounded-lg shadow-sm p-6 fade-in">
          <h2 class="text-2xl font-bold text-gray-900 mb-6">Make a Deposit</h2>
          
          <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
            <!-- Deposit Form -->
            <div class="lg:col-span-2">
              <div class="bg-white border border-gray-200 rounded-lg p-6">
                <h3 class="text-lg font-semibold text-gray-800 mb-4">Weekly Deposit</h3>
                
                <!-- Deposit Amount -->
                <div class="mb-6">
                  <label class="block text-sm font-medium text-gray-700 mb-2">Deposit Amount</label>
                  <div class="flex items-center gap-4">
                    <div class="relative flex-1">
                      <input type="number" id="depositAmount" value="200" class="w-full border border-gray-300 rounded-lg py-3 px-4 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent" readonly>
                    </div>
                    <span class="text-lg font-medium text-gray-700">BDT</span>
                  </div>
                  <p class="text-sm text-gray-500 mt-2">Weekly deposit amount is fixed at 200 BDT</p>
                </div>
                
                <!-- Deposit Date -->
                <div class="mb-6">
                  <label class="block text-sm font-medium text-gray-700 mb-2">Deposit Date</label>
                  <div class="date-input-wrapper">
                    <input type="text" id="depositDate" class="date-input-calendar" placeholder="Select a Friday" readonly>
                    <div id="calendarDropdown" class="calendar-dropdown">
                      <div class="compact-calendar">
                        <div class="compact-calendar-header">
                          <button class="compact-calendar-nav" id="prevMonth">‚Äπ</button>
                          <span class="compact-calendar-month" id="currentMonthYear">January 2025</span>
                          <button class="compact-calendar-nav" id="nextMonth">‚Ä∫</button>
                        </div>
                        <div class="compact-calendar-weekdays">
                          <div class="compact-calendar-weekday">Sun</div>
                          <div class="compact-calendar-weekday">Mon</div>
                          <div class="compact-calendar-weekday">Tue</div>
                          <div class="compact-calendar-weekday">Wed</div>
                          <div class="compact-calendar-weekday">Thu</div>
                          <div class="compact-calendar-weekday">Fri</div>
                          <div class="compact-calendar-weekday">Sat</div>
                        </div>
                        <div class="compact-calendar-days" id="calendarDays"></div>
                      </div>
                    </div>
                  </div>
                  <p class="text-sm text-gray-500 mt-2">Only Fridays are available for weekly deposits</p>
                </div>
                
                <!-- Payment Method -->
                <div class="mb-6">
                  <label class="block text-sm font-medium text-gray-700 mb-2">Payment Method</label>
                  <div class="payment-methods-container">
                    <div class="payment-option" data-method="bkash">
                      <div class="flex items-center gap-3">
                        <div class="w-10 h-10 bg-pink-100 rounded-full flex items-center justify-center">
                          <span class="text-pink-600 font-bold">b</span>
                        </div>
                        <div>
                          <p class="font-medium">bKash</p>
                          <p class="text-xs text-gray-500">Personal</p>
                        </div>
                      </div>
                    </div>
                    <div class="payment-option" data-method="nagad">
                      <div class="flex items-center gap-3">
                        <div class="w-10 h-10 bg-green-100 rounded-full flex items-center justify-center">
                          <span class="text-green-600 font-bold">N</span>
                        </div>
                        <div>
                          <p class="font-medium">Nagad</p>
                          <p class="text-xs text-gray-500">Personal</p>
                        </div>
                      </div>
                    </div>
                    <div class="payment-option" data-method="rocket">
                      <div class="flex items-center gap-3">
                        <div class="w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center">
                          <span class="text-purple-600 font-bold">R</span>
                        </div>
                        <div>
                          <p class="font-medium">Rocket</p>
                          <p class="text-xs text-gray-500">DBBL</p>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                
                <!-- Transaction ID -->
                <div class="mb-6">
                  <label class="block text-sm font-medium text-gray-700 mb-2">Transaction ID</label>
                  <input type="text" id="transactionId" class="w-full border border-gray-300 rounded-lg py-3 px-4 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent" placeholder="Enter transaction ID">
                </div>
                
                <!-- Submit Button -->
                <button id="submitDeposit" class="w-full bg-green-600 text-white py-3 px-4 rounded-lg font-semibold hover:bg-green-700 transition-colors">
                  Confirm Deposit
                </button>
              </div>
            </div>
            
            <!-- Deposit History -->
            <div>
              <div class="bg-white border border-gray-200 rounded-lg p-6">
                <h3 class="text-lg font-semibold text-gray-800 mb-4">Deposit History</h3>
                
                <div class="overflow-x-auto">
                  <table class="deposit-history-table">
                    <thead>
                      <tr>
                        <th>Date</th>
                        <th>Method</th>
                        <th>Amount</th>
                        <th>Status</th>
                      </tr>
                    </thead>
                    <tbody id="depositHistoryTable">
                      <!-- Deposit history will be populated here -->
                    </tbody>
                  </table>
                </div>
                
                <div class="mt-4 text-center">
                  <p class="text-sm text-gray-500">No deposit history available</p>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Profile Section -->
        <div id="profile" class="dashboard-section bg-white rounded-lg shadow-sm p-6 fade-in">
          <h2 class="text-2xl font-bold text-gray-900 mb-6">Profile Settings</h2>
          
          <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
            <!-- Profile Information -->
            <div class="lg:col-span-2">
              <div class="bg-white border border-gray-200 rounded-lg p-6">
                <h3 class="text-lg font-semibold text-gray-800 mb-4">Personal Information</h3>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                  <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Full Name</label>
                    <input type="text" value="Shareholder" class="w-full border border-gray-300 rounded-lg py-2 px-3 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent">
                  </div>
                  <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Email Address</label>
                    <input type="email" value="shareholder@resss.com" class="w-full border border-gray-300 rounded-lg py-2 px-3 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent">
                  </div>
                  <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Phone Number</label>
                    <input type="tel" value="+8801XXXXXXXXX" class="w-full border border-gray-300 rounded-lg py-2 px-3 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent">
                  </div>
                  <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Member ID</label>
                    <input type="text" value="RESSS-001" class="w-full border border-gray-300 rounded-lg py-2 px-3 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent" readonly>
                  </div>
                  <div class="md:col-span-2">
                    <label class="block text-sm font-medium text-gray-700 mb-2">Address</label>
                    <textarea rows="3" class="w-full border border-gray-300 rounded-lg py-2 px-3 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent">Dhaka, Bangladesh</textarea>
                  </div>
                </div>
                
                <div class="mt-6">
                  <button class="bg-green-600 text-white py-2 px-6 rounded-lg font-semibold hover:bg-green-700 transition-colors">
                    Save Changes
                  </button>
                </div>
              </div>
            </div>
            
            <!-- Account Settings -->
            <div>
              <div class="bg-white border border-gray-200 rounded-lg p-6">
                <h3 class="text-lg font-semibold text-gray-800 mb-4">Account Settings</h3>
                
                <div class="space-y-4">
                  <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Account Status</label>
                    <div class="flex items-center gap-2">
                      <div class="w-3 h-3 bg-green-500 rounded-full"></div>
                      <span class="text-sm font-medium text-gray-900">Active</span>
                    </div>
                  </div>
                  
                  <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Member Since</label>
                    <p class="text-sm text-gray-900">January 2023</p>
                  </div>
                  
                  <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Weekly Deposit</label>
                    <p class="text-sm text-gray-900">200 BDT</p>
                  </div>
                  
                  <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Total Deposits</label>
                    <p class="text-sm text-gray-900">41,400 BDT</p>
                  </div>
                </div>
                
                <div class="mt-6 pt-6 border-t border-gray-200">
                  <h4 class="text-sm font-medium text-gray-700 mb-3">Security</h4>
                  <button class="w-full text-left py-2 px-3 text-sm text-red-600 hover:bg-red-50 rounded-md transition-colors">
                    Change Password
                  </button>
                  <button class="w-full text-left py-2 px-3 text-sm text-red-600 hover:bg-red-50 rounded-md transition-colors">
                    Two-Factor Authentication
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </main>

  <!-- Payment Success Modal -->
  <div id="paymentModal" class="payment-modal">
    <div class="payment-form">
      <div class="payment-success">
        <div class="payment-success-icon">‚úÖ</div>
        <h3 class="text-xl font-bold text-gray-900 mb-2">Payment Successful!</h3>
        <p class="text-gray-600 mb-6">Your weekly deposit has been processed successfully.</p>
        <div class="bg-gray-50 p-4 rounded-lg mb-6">
          <div class="flex justify-between mb-2">
            <span class="text-gray-600">Amount:</span>
            <span class="font-medium">200 BDT</span>
          </div>
          <div class="flex justify-between mb-2">
            <span class="text-gray-600">Date:</span>
            <span class="font-medium" id="successDate">Friday, 10 Jan 2025</span>
          </div>
          <div class="flex justify-between">
            <span class="text-gray-600">Method:</span>
            <span class="font-medium" id="successMethod">bKash</span>
          </div>
        </div>
        <button onclick="closePaymentModal()" class="w-full bg-green-600 text-white py-3 px-4 rounded-lg font-semibold hover:bg-green-700 transition-colors">
          Done
        </button>
      </div>
    </div>
  </div>

  <script>
    // Dashboard state
    const dashboardState = {
      depositHistory: [],
      transactionHistory: [
        {
          date: '15 Dec 2024',
          description: 'Weekly Deposit - Ishtiaq Abedin',
          debit: '-',
          credit: '+200 BDT',
          balance: '42,800 BDT'
        },
        {
          date: '08 Dec 2024',
          description: 'Weekly Deposit - Sarwar Sabbir',
          debit: '-',
          credit: '+200 BDT',
          balance: '42,600 BDT'
        },
        {
          date: '01 Dec 2024',
          description: 'Land Lease Investment',
          debit: '-10,000 BDT',
          credit: '-',
          balance: '42,400 BDT'
        },
        {
          date: '24 Nov 2024',
          description: 'Weekly Deposit - Sumit Haque',
          debit: '-',
          credit: '+200 BDT',
          balance: '52,400 BDT'
        }
      ],
      selectedPaymentMethod: null,
      selectedDate: null
    };

    // Initialize dashboard
    document.addEventListener('DOMContentLoaded', function() {
      initializeDashboard();
      setupCalendar();
      setupPaymentOptions();
      setupDepositSubmit();
      updateProgressBar();
    });

    // Initialize dashboard
    function initializeDashboard() {
      // Set initial active section
      showSection('dashboard');
      
      // Set next deposit date (next Friday)
      const nextFriday = getNextFriday();
      document.getElementById('nextDepositDate').textContent = formatDate(nextFriday);
      
      // Update progress bar
      updateProgressBar();
    }

    // Show section and hide others
    function showSection(sectionId) {
      // Hide all sections
      document.querySelectorAll('.dashboard-section').forEach(section => {
        section.classList.remove('active');
      });
      
      // Show selected section
      document.getElementById(sectionId).classList.add('active');
      
      // Add fade-in effect
      document.getElementById(sectionId).classList.add('fade-in');
      setTimeout(() => {
        document.getElementById(sectionId).classList.remove('fade-in');
      }, 800);
    }

    // Toggle submenu visibility
    function toggleSubmenu(submenuId) {
      const submenu = document.getElementById(submenuId);
      submenu.classList.toggle('active');
    }

    // Setup calendar for deposit date selection
    function setupCalendar() {
      const dateInput = document.getElementById('depositDate');
      const calendarDropdown = document.getElementById('calendarDropdown');
      const prevMonthBtn = document.getElementById('prevMonth');
      const nextMonthBtn = document.getElementById('nextMonth');
      const currentMonthYear = document.getElementById('currentMonthYear');
      const calendarDays = document.getElementById('calendarDays');
      
      let currentDate = new Date();
      let currentMonth = currentDate.getMonth();
      let currentYear = currentDate.getFullYear();
      
      // Toggle calendar dropdown
      dateInput.addEventListener('click', function() {
        calendarDropdown.classList.toggle('active');
        renderCalendar(currentMonth, currentYear);
      });
      
      // Close calendar when clicking outside
      document.addEventListener('click', function(event) {
        if (!dateInput.contains(event.target) && !calendarDropdown.contains(event.target)) {
          calendarDropdown.classList.remove('active');
        }
      });
      
      // Navigate to previous month
      prevMonthBtn.addEventListener('click', function() {
        currentMonth--;
        if (currentMonth < 0) {
          currentMonth = 11;
          currentYear--;
        }
        renderCalendar(currentMonth, currentYear);
      });
      
      // Navigate to next month
      nextMonthBtn.addEventListener('click', function() {
        currentMonth++;
        if (currentMonth > 11) {
          currentMonth = 0;
          currentYear++;
        }
        renderCalendar(currentMonth, currentYear);
      });
      
      // Render calendar for specific month and year
      function renderCalendar(month, year) {
        currentMonthYear.textContent = `${getMonthName(month)} ${year}`;
        calendarDays.innerHTML = '';
        
        const firstDay = new Date(year, month, 1);
        const lastDay = new Date(year, month + 1, 0);
        const daysInMonth = lastDay.getDate();
        const startingDay = firstDay.getDay();
        
        // Add empty cells for days before the first day of the month
        for (let i = 0; i < startingDay; i++) {
          const emptyDay = document.createElement('div');
          emptyDay.classList.add('compact-calendar-day', 'other-month');
          calendarDays.appendChild(emptyDay);
        }
        
        // Add days of the month
        for (let day = 1; day <= daysInMonth; day++) {
          const dayElement = document.createElement('div');
          dayElement.classList.add('compact-calendar-day');
          dayElement.textContent = day;
          
          const date = new Date(year, month, day);
          const dayOfWeek = date.getDay();
          
          // Check if it's Friday (dayOfWeek = 5)
          if (dayOfWeek === 5) {
            dayElement.classList.add('friday');
            
            // Check if it's the selected date
            if (dashboardState.selectedDate && 
                date.getDate() === dashboardState.selectedDate.getDate() &&
                date.getMonth() === dashboardState.selectedDate.getMonth() &&
                date.getFullYear() === dashboardState.selectedDate.getFullYear()) {
              dayElement.classList.add('selected');
            }
            
            dayElement.addEventListener('click', function() {
              selectDate(date);
            });
          } else {
            // Disable non-Friday days
            dayElement.classList.add('disabled');
          }
          
          calendarDays.appendChild(dayElement);
        }
      }
      
      // Select a date
      function selectDate(date) {
        dashboardState.selectedDate = date;
        dateInput.value = formatDate(date);
        calendarDropdown.classList.remove('active');
        renderCalendar(currentMonth, currentYear); // Re-render to update selected state
      }
      
      // Initial render
      renderCalendar(currentMonth, currentYear);
    }

    // Setup payment options
    function setupPaymentOptions() {
      const paymentOptions = document.querySelectorAll('.payment-option');
      
      paymentOptions.forEach(option => {
        option.addEventListener('click', function() {
          // Remove selected class from all options
          paymentOptions.forEach(opt => {
            opt.classList.remove('selected');
          });
          
          // Add selected class to clicked option
          this.classList.add('selected');
          
          // Store selected payment method
          dashboardState.selectedPaymentMethod = this.getAttribute('data-method');
        });
      });
    }

    // Setup deposit submission
    function setupDepositSubmit() {
      const submitButton = document.getElementById('submitDeposit');
      
      submitButton.addEventListener('click', function() {
        // Validate inputs
        if (!dashboardState.selectedDate) {
          alert('Please select a deposit date');
          return;
        }
        
        if (!dashboardState.selectedPaymentMethod) {
          alert('Please select a payment method');
          return;
        }
        
        const transactionId = document.getElementById('transactionId').value.trim();
        if (!transactionId) {
          alert('Please enter a transaction ID');
          return;
        }
        
        // Process deposit
        processDeposit();
      });
    }

    // Process deposit
    function processDeposit() {
      const amount = document.getElementById('depositAmount').value;
      const date = dashboardState.selectedDate;
      const method = dashboardState.selectedPaymentMethod;
      const transactionId = document.getElementById('transactionId').value;
      
      // Add to deposit history
      const deposit = {
        id: Date.now(),
        date: formatDate(date),
        time: new Date().toLocaleTimeString(),
        method: method,
        amount: amount,
        transactionId: transactionId,
        status: 'Completed'
      };
      
      dashboardState.depositHistory.push(deposit);
      
      // Update deposit history table
      updateDepositHistoryTable();
      
      // Update dashboard stats
      updateDashboardStats();
      
      // Show success modal
      document.getElementById('successDate').textContent = formatDate(date);
      document.getElementById('successMethod').textContent = getPaymentMethodName(method);
      document.getElementById('paymentModal').classList.add('active');
      
      // Reset form
      resetDepositForm();
    }

    // Update deposit history table
    function updateDepositHistoryTable() {
      const tableBody = document.getElementById('depositHistoryTable');
      tableBody.innerHTML = '';
      
      if (dashboardState.depositHistory.length === 0) {
        const emptyRow = document.createElement('tr');
        emptyRow.innerHTML = `
          <td colspan="4" class="text-center py-4 text-gray-500">
            No deposit history available
          </td>
        `;
        tableBody.appendChild(emptyRow);
        return;
      }
      
      // Sort by date (newest first)
      const sortedHistory = [...dashboardState.depositHistory].sort((a, b) => b.id - a.id);
      
      sortedHistory.forEach(deposit => {
        const row = document.createElement('tr');
        row.classList.add('transaction-row');
        row.innerHTML = `
          <td class="py-2">
            <div class="font-medium">${deposit.date}</div>
            <div class="text-xs text-gray-500">${deposit.time}</div>
          </td>
          <td class="py-2">
            <div class="flex items-center">
              <div class="w-6 h-6 rounded-full ${getPaymentMethodColor(deposit.method)} flex items-center justify-center mr-2">
                <span class="text-xs font-bold ${getPaymentMethodTextColor(deposit.method)}">${getPaymentMethodInitial(deposit.method)}</span>
              </div>
              ${getPaymentMethodName(deposit.method)}
            </div>
          </td>
          <td class="py-2 font-medium">${deposit.amount} BDT</td>
          <td class="py-2">
            <span class="status-badge status-completed">${deposit.status}</span>
          </td>
        `;
        tableBody.appendChild(row);
      });
    }

    // Update dashboard stats
    function updateDashboardStats() {
      const totalDepositElement = document.getElementById('TotalDeposit');
      const currentTotal = parseInt(totalDepositElement.textContent.replace(/\D/g, ''));
      const newTotal = currentTotal + 200;
      totalDepositElement.textContent = `${newTotal.toLocaleString()} BDT`;
      
      // Update progress
      updateProgressBar();
    }

    // Update progress bar
    function updateProgressBar() {
      const totalDepositElement = document.getElementById('TotalDeposit');
      const totalDeposit = parseInt(totalDepositElement.textContent.replace(/\D/g, ''));
      const targetDeposit = 2400; // 12 weeks * 200 BDT
      
      const progressPercent = Math.min(100, Math.round((totalDeposit / targetDeposit) * 100));
      const completedWeeks = Math.floor(totalDeposit / 200);
      const remainingWeeks = 12 - completedWeeks;
      
      document.getElementById('progressPercent').textContent = `${progressPercent}%`;
      document.getElementById('progressBar').style.width = `${progressPercent}%`;
      document.getElementById('completedWeeks').textContent = completedWeeks;
      document.getElementById('remainingWeeks').textContent = remainingWeeks;
    }

    // Reset deposit form
    function resetDepositForm() {
      document.getElementById('depositDate').value = '';
      document.getElementById('transactionId').value = '';
      
      // Clear selected payment method
      document.querySelectorAll('.payment-option').forEach(option => {
        option.classList.remove('selected');
      });
      
      dashboardState.selectedPaymentMethod = null;
      dashboardState.selectedDate = null;
    }

    // Close payment modal
    function closePaymentModal() {
      document.getElementById('paymentModal').classList.remove('active');
    }

    // Export to CSV
    function exportToCSV() {
      alert('CSV export functionality would be implemented here');
    }

    // Toggle filter
    function toggleFilter() {
      alert('Filter functionality would be implemented here');
    }

    // Toggle add transaction form
    function toggleAddTransaction() {
      const form = document.getElementById('addTransactionForm');
      form.classList.toggle('hidden');
    }

    // Add new transaction
    function addNewTransaction() {
      const date = document.getElementById('newTransactionDate').value;
      const description = document.getElementById('newTransactionDescription').value;
      const debit = document.getElementById('newTransactionDebit').value;
      const credit = document.getElementById('newTransactionCredit').value;
      
      if (!date || !description) {
        alert('Please fill in all required fields');
        return;
      }
      
      // Format date
      const formattedDate = new Date(date).toLocaleDateString('en-GB', {
        day: 'numeric',
        month: 'short',
        year: 'numeric'
      });
      
      // Add to transaction history
      const transaction = {
        date: formattedDate,
        description: description,
        debit: debit ? `-${debit} BDT` : '-',
        credit: credit ? `+${credit} BDT` : '-',
        balance: '0 BDT' // This would be calculated in a real implementation
      };
      
      dashboardState.transactionHistory.unshift(transaction);
      
      // Update transaction history table
      updateTransactionHistoryTable();
      
      // Reset form
      document.getElementById('newTransactionDate').value = '';
      document.getElementById('newTransactionDescription').value = '';
      document.getElementById('newTransactionDebit').value = '';
      document.getElementById('newTransactionCredit').value = '';
      
      // Hide form
      document.getElementById('addTransactionForm').classList.add('hidden');
    }

    // Update transaction history table
    function updateTransactionHistoryTable() {
      const tableBody = document.getElementById('transactionHistory');
      tableBody.innerHTML = '';
      
      dashboardState.transactionHistory.forEach(transaction => {
        const row = document.createElement('tr');
        row.classList.add('transaction-row');
        row.innerHTML = `
          <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">
            ${transaction.date}
          </td>
          <td class="px-6 py-4 text-sm text-gray-900">
            ${transaction.description}
          </td>
          <td class="px-6 py-4 whitespace-nowrap text-sm ${transaction.debit !== '-' ? 'text-red-600 font-medium' : 'text-gray-900'}">
            ${transaction.debit}
          </td>
          <td class="px-6 py-4 whitespace-nowrap text-sm ${transaction.credit !== '-' ? 'text-green-600 font-medium' : 'text-gray-900'}">
            ${transaction.credit}
          </td>
          <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">
            ${transaction.balance}
          </td>
        `;
        tableBody.appendChild(row);
      });
    }

    // Utility functions
    function getNextFriday() {
      const today = new Date();
      const dayOfWeek = today.getDay();
      const daysUntilFriday = dayOfWeek <= 5 ? 5 - dayOfWeek : 5 + 7 - dayOfWeek;
      const nextFriday = new Date(today);
      nextFriday.setDate(today.getDate() + daysUntilFriday);
      return nextFriday;
    }

    function formatDate(date) {
      const options = { weekday: 'long', day: 'numeric', month: 'short', year: 'numeric' };
      return date.toLocaleDateString('en-US', options);
    }

    function getMonthName(month) {
      const months = [
        'January', 'February', 'March', 'April', 'May', 'June',
        'July', 'August', 'September', 'October', 'November', 'December'
      ];
      return months[month];
    }

    function getPaymentMethodName(method) {
      const methods = {
        'bkash': 'bKash',
        'nagad': 'Nagad',
        'rocket': 'Rocket'
      };
      return methods[method] || method;
    }

    function getPaymentMethodInitial(method) {
      const initials = {
        'bkash': 'b',
        'nagad': 'N',
        'rocket': 'R'
      };
      return initials[method] || method.charAt(0).toUpperCase();
    }

    function getPaymentMethodColor(method) {
      const colors = {
        'bkash': 'bg-pink-100',
        'nagad': 'bg-green-100',
        'rocket': 'bg-purple-100'
      };
      return colors[method] || 'bg-gray-100';
    }

    function getPaymentMethodTextColor(method) {
      const colors = {
        'bkash': 'text-pink-600',
        'nagad': 'text-green-600',
        'rocket': 'text-purple-600'
      };
      return colors[method] || 'text-gray-600';
    }

    function logout() {
      if (confirm('Are you sure you want to logout?')) {
        alert('You have been logged out');
        // In a real application, this would redirect to login page
      }
    }
  </script>
</body>
</html>
